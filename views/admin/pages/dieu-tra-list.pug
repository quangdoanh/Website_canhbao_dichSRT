extends ../layouts/default.pug

block main
  h1.box-title Danh sách điều tra

  //- Section 4: Bộ lọc
  .section-4
    .inner-wrap
      .inner-item.inner-label
        <i class="fa-solid fa-filter"></i> Bộ lọc
      .inner-item
        select(filter-status)
          option(value="") Huyện
          option(value="active") Hoạt động
          option(value="inactive") Tạm dừng
      
      .inner-item
        select(filter-role)
          option(value="") Xã
          option(value="1") Nhóm quyền 1
          option(value="2") Nhóm quyền 2
          option(value="3") Nhóm quyền 3
          
      .inner-item.inner-reset(filter-reset)
        <i class="fa-solid fa-rotate-left"></i> Xóa bộ lọc

  //- Section 5: Hành động & tìm kiếm
  .section-5
    .inner-wrap
      .inner-change-status(change-multi data-api=`/${pathAdmin}/user/change-multi`)
        .inner-item
          select
            option(value="") -- Hành động --
            option(value="active") Hoạt động
            option(value="inactive") Dừng hoạt động
            option(value="delete") Xóa
        .inner-item
          button Áp dụng
      .inner-search
        i(class="fa-solid fa-magnifying-glass")
        input(type="text" placeholder="Tìm kiếm" search)
      .inner-button-create
          a(href=`/${pathAdmin}/dieutra/${matinh}/create`) + Tạo mới

  //- Section 6: Bảng danh sách
  .section-6
    .table-2
      table
        thead
          tr
            th.inner-center
              input(type="checkbox" class="inner-check" check-all)
            th.inner-center Địa chỉ
            th.inner-center Tỉnh
            th.inner-center Huyện
            th.inner-center Xã
            th Số sâu non
            th Số cây
            th Loại cây
            th Đường kính TB
            th Ngày điều tra
            th Hành động
        tbody
        if dieutraList.length 
          each item in dieutraList
            tr
              td.inner-center
                input(type="checkbox" class="inner-check" value=item.id)
              td.inner-center= item.dia_chi_cu_the || ""
              td.inner-center= item.ten_tinh
              td.inner-center= item.ten_huyen
              td.inner-center= item.ten_xa
              td= item.so_sau_non
              td= item.so_cay
              td= item.loai_cay === "thongmavi" ? "Thông Mã Vĩ" : item.loai_cay === "thongnhua" ? "Thông Nhựa" : ""
              td= item.duong_kinh_tb || ""
              td= item.createdAtFormat
              td
                .inner-buttons
                  a.inner-edit(href=`/${pathAdmin}/dieutra/${matinh}/edit/${item.id}`)
                    i(class="fa-regular fa-pen-to-square")
                  button.inner-delete(button-delete-patch data-api=`/${pathAdmin}/dieutra/${matinh}/delete/${item.id}`)
                    i(class="fa-regular fa-trash-can")
        else
          tr
            td(colspan=9 style="text-align:center") Không có dữ liệu

  //- Section 7: Pagination
  .section-7
    span.inner-label Hiển thị 1 - 3 của 3
    select.inner-pagination(name="page")
      option(value="1" selected) Trang 1

