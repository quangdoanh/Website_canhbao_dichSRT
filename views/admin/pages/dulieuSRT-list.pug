extends ../layouts/default.pug
include ../mixins/optionTinh.pug
include ../mixins/optionHuyen.pug
include ../mixins/optionXa.pug


block main
  h1.box-title Thống kê đợt dịch sâu róm thông

  //- Section 4
  .section-4
    .inner-wrap
      .inner-item.inner-label
        <i class="fa-solid fa-filter"></i> Bộ lọc
        .inner-group
          select(id="tinh" name="tinh" class="tinh" required filter-Ma_tinh)
            option(value="") Tỉnh
            +optionTinh(ListTinh)
        .inner-group
          select(id="huyen" name="huyen" class="huyen" filter-Ma_huyen)
            option(value="") Huyện
            +optionHuyen(ListHuyen)
        .inner-group
          select(id="xa" name="xa" class="xa" filter-Ma_xa)
            option(value="") Xã
            +optionXa(ListXaTheoHuyen)  
      .inner-item.inner-reset
        <i class="fa-solid fa-rotate-left" filter-reset></i> Xóa bộ lọc
  //- End Section 4

  //- Section 5
  .section-5
    .inner-wrap
      //- .inner-change-status(change-multi)
      //-   .inner-item
      //-     select
      //-       option(value="") -- Hành động --
      //-       option(value="delete") Xóa
      //-   .inner-item
      //-     button(data-api=``) Áp dụng
      //- //- .inner-search
      //-   <i class="fa-solid fa-magnifying-glass"></i>
      //-   input(type="text" placeholder="Tìm kiếm" search)
      .inner-button-create
        a(href=`/${pathAdmin}/sauromthong/create`) + Tạo mới
  //- End Section 5

  //- Section 6
  .section-6
    .table-2
      table
        thead
          tr
            th(class="inner-center")
              input(type="checkbox" class="inner-check" check-all)
            //- th Địa diểm điều tra
            th Tỉnh
            th(class="inner-center") Huyện
            th(class="inner-center") Xã
            th Tiểu khu
            th Khoảnh
            th Lô
            th Diện tích
            th Loại rừng
            th Năm trồng 
            th(class="inner-center") Chủ rừng
            th Hành động
        tbody
        if listDulieuSRT.length
          each item in listDulieuSRT
            tr
              td(class="inner-center")
                input(type="checkbox" class="inner-check" check-item=item.id)
              //- td #{item.diadiem_dieutra}
              td #{item.tinh}
              td(class="inner-center") #{item.huyen}
              td(class="inner-center") #{item.xa}
              td(class="inner-center") #{item.tieukhu}
              td(class="inner-center") #{item.khoanh}
              td(class="inner-center") #{item.lo}
              td(class="inner-center") #{item.dientich}
              td(class="inner-center") #{item.loairung}
              td(class="inner-center") #{item.namtr}
              td(class="inner-center") #{item.churung}
              td
                .inner-buttons
                  a(href=`/${pathAdmin}/sauromthong/edit/${item.id}` class="inner-edit")
                    i.fa-regular.fa-pen-to-square
                  //- a(class="inner-delete" button-delete data-api=`/${pathAdmin}/category/delete/${item.id}`)
                  //-   i.fa-regular.fa-trash-can
        else
          tr
            td(colspan="13" class="inner-center") Không có dữ liệu

            
  //- End Section 6

  //-Section 7
  .section-7
    - const start = (pagination.page - 1) * limit + 1;
    - const end = Math.min(pagination.page * limit, pagination.totalRecords);
    span.inner-label Hiển thị #{start} - #{end} của #{pagination.totalRecords}

    select.inner-pagination(pagination name="page")
      each val in [...Array(pagination.totalPage).keys()]
        - const pageNum = val + 1;
        option(value=pageNum selected=(pageNum === pagination.page)) Trang #{pageNum}

    //-End Section 7